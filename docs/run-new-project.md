## 运行CRUD项目

### 重要须知

上一步，我们通过Go-sword工具，点击`generate`按钮来生成了后端CRUD的代码，剩下的就是将CRUD服务加载到自己的项目中


## 生成的CRUD的代码结构 
Go-sword工具，根据配置文件，释放相关文件到`admin22`目录，这个目录是在yaml配置文件中自定义的。

```
➜  go-sword-app tree -L 2
.
├── admin22           // CRUD 服务业务代码的释放目录
│   ├── config
│   ├── controller
│   ├── model
│   ├── resource
│   ├── response
│   ├── route
│   ├── sword
│   └── view
├── config
│   └── go-sword.yaml  // Go-sword 工具的配置文件，同样CRUD服务也可以加载这个配置文件
├── go.mod
├── go.sum
└── main.go            // 项目的主入口
```


## 加载CRUD 服务到项目

在项目中我们要启动CRUD项目只需要通过如下命令
```
sword.Run("config/go-sword.yaml")
```


最终的main.go 文件如下
```
package main

import (
	"log"

	"github.com/app/admin22/sword"
	"github.com/gin-gonic/gin"
	gosword "github.com/sunshinev/go-sword"
)

func main() {
	r := gin.Default()
	r.GET("/ping", func(c *gin.Context) {
		c.JSON(200, gin.H{
			"message": "pong",
		})
	})

	// 这里我们可以调整日志的详细程度
	log.SetFlags(log.Llongfile | log.Ldate)

	// 核心：这里通过该命令，加载配置文件，并且启动服务
	gosword.Init("config/go-sword.yaml").Run()

	// 核心2：启动CRUD服务
	sword.Run("config/go-sword.yaml")

	// 原始gin项目
	_ = r.Run()
}

```

修改完main文件之后，我们需要重启项目

## 控制台输出

会发现在8082（端口也可以通过配置文件自定义）已经启动了服务

```
START-------------------------------------
Enjoy your system ^ ^
Generated by Go-sword
https://github.com/sunshinev/go-sword
[Server info]
Server port : 8082
[db info]
MySQL host : localhost
MySQL port : 3306
MySQL user : root
MySQL password : 123456

Start successful, server is running ...
Please request: http://localhost:8082
END-------------------------------------
```

## 后端CRUD服务
![1626ee1d3300ac6db6669d63721d96381587996351.jpg](https://cdn.jsdelivr.net/gh/sunshinev/remote_pics/1626ee1d3300ac6db6669d63721d96381587996351.jpg)
